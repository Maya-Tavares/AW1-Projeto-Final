<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bio Market</title>
  <link rel="stylesheet" href="../css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="salve-a-natureza.png">
</head>

<body>
  <main>
    <div class="container">
      <div class="wrap">
        <div class="cartoon">
          <img src="../image/cadastro.png" alt="Imagem de Cadastro">
        </div>
        <div class="forms">
          <a href="index.html"><img src="logo2.png" alt="Logotipo"></a>
          <form action="" method="post">

            <div id='msgError'></div>

            <div class="label-float">
              <input type="text" id="nome" placeholder=" " required>
              <label id="labelNome" for="nome">Nome</label>
            </div>

            <div class="label-float">
              <input type="email" id="usuario" placeholder=" " required>
              <label id="labelUsuario" for="usuario">E-mail</label>
            </div>

            <div class="label-float">
              <input type="password" id="senha" placeholder=" " required>
              <label id="labelSenha" for="senha">Senha</label>
              <i id="verSenha" class="fa fa-eye" aria-hidden="true"></i>

            </div>

            <div class="label-float">
              <input type="password" id="confirmSenha" placeholder=" " required>
              <label id="labelConfirmSenha" for="confirmSenha">Confirmar Senha</label>
              <i id="verConfirmSenha" class="fa fa-eye" aria-hidden="true"></i>
            </div>

            <dic class="full-box">
              <input type="checkbox" name="agreement" id="agreement" required>
              <label for="agreement" id="labelAgreement">Eu li e concordo com os <a href="termos-de-uso.html">termos de
                  uso</a></label>
            </dic>

            <div class='justify-center'>
              <button onclick='cadastrar()' href="catalogo.html">CADASTRAR</button>
            </div>

          </form>
          <a href="login.html" id="voltar">VOLTAR</a>
        </div>
      </div>
    </div>
  </main>
  <footer class="footer">
    <p>BMKT - 2022</p>
  </footer>
</body>
<script>
  let btn = document.querySelector('#verSenha')
  let btnConfirm = document.querySelector('#verConfirmSenha')


  let nome = document.querySelector('#nome')
  let labelNome = document.querySelector('#labelNome')
  let validNome = false

  let usuario = document.querySelector('#usuario')
  let labelUsuario = document.querySelector('#labelUsuario')
  let validUsuario = false

  let senha = document.querySelector('#senha')
  let labelSenha = document.querySelector('#labelSenha')
  let validSenha = false

  let confirmSenha = document.querySelector('#confirmSenha')
  let labelConfirmSenha = document.querySelector('#labelConfirmSenha')
  let validConfirmSenha = false

  let agreement = document.querySelector('#agreement')
  let labelAgreement = document.querySelector('#labelAgreement')
  let validAgreement = false

  let msgError = document.querySelector('#msgError')

  let msgSuccess = document.querySelector('#msgSuccess')

  nome.addEventListener('keyup', () => {
    if (nome.value.length <= 2) {
      labelNome.setAttribute('style', 'color: red')
      labelNome.innerHTML = 'Nome *Minimo 3 caracteres'
      nome.setAttribute('style', 'border-color: red')
      validNome = false
    } else {
      labelNome.setAttribute('style', 'color: green')
      labelNome.innerHTML = 'Nome'
      nome.setAttribute('style', 'border-color: green')
      validNome = true
    }
  })

  usuario.addEventListener('keyup', () => {
    if (usuario.value.length <= 4) {
      labelUsuario.setAttribute('style', 'color: red')
      labelUsuario.innerHTML = 'E-mail'
      usuario.setAttribute('style', 'border-color: red')
      validUsuario = false
    } else {
      labelUsuario.setAttribute('style', 'color: green')
      labelUsuario.innerHTML = 'E-mail'
      usuario.setAttribute('style', 'border-color: green')
      validUsuario = true
    }
  })


  senha.addEventListener('keyup', () => {
    if (senha.value.length <= 7) {
      labelSenha.setAttribute('style', 'color: red')
      labelSenha.innerHTML = 'Senha *Minimo 8 caracteres'
      senha.setAttribute('style', 'border-color: red')
      validSenha = false
    } else {
      labelSenha.setAttribute('style', 'color: green')
      labelSenha.innerHTML = 'Senha'
      senha.setAttribute('style', 'border-color: green')
      validSenha = true
    }
  })

  confirmSenha.addEventListener('keyup', () => {
    if (senha.value != confirmSenha.value) {
      labelConfirmSenha.setAttribute('style', 'color: red')
      confirmSenha.setAttribute('style', 'border-color: red')
      validConfirmSenha = false
    } else {
      labelConfirmSenha.setAttribute('style', 'color: green')
      labelConfirmSenha.innerHTML = 'Confirmar Senha'
      confirmSenha.setAttribute('style', 'border-color: green')
      validConfirmSenha = true
    }
  })

  agreement.addEventListener('keyup', () => {
    if (true) {
      validAgreement = true
    }
    else {
      validAgreement = false
    }
  })

  function cadastrar() {
    if (validNome && validSenha && validConfirmSenha) {

      setTimeout(() => {
        window.location.href = 'http://127.0.0.1:5501/choice.html'
      })

    } else {
      msgError.setAttribute('style', 'display: flex')
      msgError.innerHTML = 'Todos os campos são obrigatórios'
    }
  }

  btn.addEventListener('click', () => {
    let inputSenha = document.querySelector('#senha')

    if (inputSenha.getAttribute('type') == 'password') {
      inputSenha.setAttribute('type', 'text')
    } else {
      inputSenha.setAttribute('type', 'password')
    }
  })

  btnConfirm.addEventListener('click', () => {
    let inputConfirmSenha = document.querySelector('#confirmSenha')

    if (inputConfirmSenha.getAttribute('type') == 'password') {
      inputConfirmSenha.setAttribute('type', 'text')
    } else {
      inputConfirmSenha.setAttribute('type', 'password')
    }
  })

</script>

</html>